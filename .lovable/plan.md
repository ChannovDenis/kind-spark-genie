
# План реализации: Страница расписания эксперта

## Цель
Создать полнофункциональную страницу `/expert/schedule` с календарной сеткой, слотами записи и возможностью управления расписанием эксперта.

---

## Что создаём

### Файл: `src/pages/expert/Schedule.tsx`

**Layout страницы:**
```text
┌─────────────────────────────────────────────────────────────┐
│  PageHeader: "Расписание"  +  [< Пред] [Сегодня] [След >]   │
├──────────────────────────┬──────────────────────────────────┤
│                          │                                  │
│   Мини-календарь         │     Календарная сетка недели     │
│   (выбор даты)           │                                  │
│                          │  ПН    ВТ    СР    ЧТ    ПТ      │
│   ────────────────       │  ─────────────────────────────   │
│                          │  09:00  [Запись]   ...           │
│   Статистика:            │  10:00  [Свободно] ...           │
│   - Записей сегодня: 5   │  11:00  [Перерыв]  ...           │
│   - На неделе: 23        │  12:00  ...                      │
│   - Свободных слотов: 8  │                                  │
│                          │                                  │
│   ────────────────       │                                  │
│                          │                                  │
│   [+ Добавить перерыв]   │                                  │
│   [Настройки]            │                                  │
│                          │                                  │
└──────────────────────────┴──────────────────────────────────┘
```

### Компоненты и функционал

**1. Календарная сетка (основная область)**
- Отображение 5 дней (ПН-ПТ) с часовыми слотами (09:00 - 19:00)
- Три типа слотов:
  - **Записанный** — синий фон, имя клиента, тема, кнопка "Начать"
  - **Свободный** — пунктирная рамка, hover-эффект
  - **Перерыв/заблокирован** — серый фон, иконка

**2. Левая панель**
- Мини-календарь для быстрого перехода к дате (используем `react-day-picker`, уже установлен)
- Статистика: записей сегодня / на неделе / свободных слотов
- Кнопки: "Добавить перерыв", "Настройки расписания"

**3. Интерактивность**
- Клик по свободному слоту — показывает toast "Слот выбран"
- Клик по записанному слоту — переход на `/expert/session/:id`
- Навигация по неделям: кнопки "Назад", "Сегодня", "Вперёд"

---

## Mock-данные

```typescript
interface TimeSlot {
  id: string;
  date: string;        // "2026-02-10"
  time: string;        // "09:00"
  type: 'free' | 'booked' | 'break';
  client?: {
    name: string;
    topic: string;
    service: string;
  };
}
```

Примеры слотов на текущую неделю:
- 09:00 ПН — Иван Петров, "Расторжение договора", Юрист
- 10:00 ПН — свободно
- 11:00 ПН — перерыв
- 14:00 ВТ — Мария Сидорова, "Консультация", Врач
- ...

---

## Изменения в роутинге

### Файл: `src/App.tsx`
- Импортировать `ExpertSchedule` из нового файла вместо placeholder

### Файл: `src/pages/PlaceholderPages.tsx`
- Удалить экспорт `ExpertSchedule` (заменяется реальной страницей)

---

## Используемые компоненты

| Компонент | Источник | Назначение |
|-----------|----------|------------|
| `Calendar` | `@/components/ui/calendar` | Мини-календарь |
| `Button` | shadcn/ui | Навигация, действия |
| `ScrollArea` | shadcn/ui | Прокрутка сетки |
| `StatusBadge` | shared | Статус слота |
| `PageHeader` | shared | Заголовок |
| `cn` | utils | Условные классы |
| `Link` | react-router-dom | Переход к сессии |
| `toast` | sonner | Уведомления |

---

## Стилистика

- Следуем glass-card эстетике проекта
- Сетка: `grid grid-cols-5` для дней недели
- Слоты: `h-20` высота, закруглённые углы
- Записанный слот: `bg-primary/10 border-primary/30`
- Свободный: `border-dashed border-muted-foreground/30`
- Перерыв: `bg-muted/30`

---

## Результат

После реализации эксперт сможет:
1. Видеть своё расписание на неделю
2. Понимать, какие слоты заняты/свободны
3. Быстро переходить к конкретной дате
4. Начинать сессию прямо из расписания
5. Видеть статистику загруженности

---

## Порядок реализации

1. Создать `src/pages/expert/Schedule.tsx` с полным функционалом
2. Обновить импорты в `src/App.tsx`
3. Удалить placeholder из `src/pages/PlaceholderPages.tsx`
